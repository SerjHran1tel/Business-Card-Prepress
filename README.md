# Business Card Prepress - Система импозиции визиток

## Описание

Программа для автоматизации раскладки (импозиции) визиток для полиграфической печати. Позволяет оптимально размещать визитки на печатных листах с соблюдением полиграфических стандартов.

## Основные возможности

- Автоматическая раскладка визиток на листах с максимальным заполнением
- Поддержка двусторонней печати с точным совмещением сторон
- Настройка полей, вылетов под обрез и обрезных меток
- Поддержка различных схем сопоставления (1:1, 1:N, M:N)
- Проверка качества изображений (DPI, цветовые профили, безопасные зоны)
- Предпросмотр раскладки перед генерацией PDF
- Поддержка векторных форматов (PDF, SVG) с автоматической конвертацией

## Установка и запуск

### Требования

- Python 3.8+
- Установленные зависимости из requirements.txt

### Установка зависимостей

```bash
pip install -r requirements.txt
```

### Запуск приложения

```bash
python main.py
```

## Использование

1. **Выбор файлов**:
   - Укажите файлы лицевых и оборотных сторон
   - Поддерживаемые форматы: JPG, PNG, TIFF, BMP, WEBP, PDF, SVG

2. **Настройка параметров**:
   - Размер листа (A4, A3, Letter и др.)
   - Размер визитки (стандартный или произвольный)
   - Поля, вылеты под обрез, зазоры между визитками
   - Схема сопоставления лицевых и оборотных сторон

3. **Проверка качества**:
   - Используйте функцию "Проверить качество" для анализа DPI и цветовых профилей

4. **Предпросмотр**:
   - Просмотрите раскладку перед генерацией PDF

5. **Генерация PDF**:
   - Сохраните готовый файл для печати

## Docker

### Сборка образа

```bash
docker build -t business-card-prepress .
```

### Запуск контейнера

```bash
docker run -p 8080:8080 business-card-prepress
```

### Docker Compose

```bash
docker-compose up
```

## Структура проекта

```
Business-Card-Prepress/
├── core/
│   └── models.py          # Data classes
├── gui/
│   ├── main_window.py     # Главное окно
│   ├── file_selector.py   # Выбор файлов
│   ├── settings_panel.py  # Панель настроек
│   └── preview_panel.py   # Предпросмотр
├── utils/
│   └── image_utils.py     # Работа с изображениями
├── converter.py           # Конвертер векторных форматов
├── layout_calculator.py   # Расчет раскладки
├── pdf_generator.py       # Генерация PDF
├── config.py             # Конфигурация
├── main.py               # Точка входа
└── tests/                # Тесты
```

## Тестирование

Запуск тестов:

```bash
python -m unittest discover tests
```

## Полиграфические параметры

- **Поля**: отступ от края листа до рабочей области
- **Вылет под обрез**: дополнительная область для обрезки (обычно 3 мм)
- **Обрезные метки**: метки для точной обрезки визиток
- **Безопасная зона**: область внутри визитки, защищенная от обрезки

## Поддерживаемые форматы вывода

- PDF с обрезными метками и правильной цветовой моделью
- Многостраничные PDF для двусторонней печати